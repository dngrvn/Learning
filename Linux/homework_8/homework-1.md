## Задание-1
> Написать скрипт очистки директорий.  
> На вход принимает путь к директории.  
> Если директория существует, то удаляет в ней все файлы с расширениями .bak, .tmp, .backup.  
> Если директории нет, то выводит ошибку.
---
```sh
sudo nano clean_directory.sh
```

```sh
#!/bin/bash

# Проверяем, передан ли аргумент
if [ $# -ne  1 ]; then
    echo "Ошибка: необходимо указать путь к директории."
    exit  1
fi

# Путь к директории
dir_path="$1"

# Проверяем, существует ли директория
if [ ! -d "$dir_path" ]; then
    echo "Ошибка: директория $dir_path не существует."
    exit  1
fi

# Удаляем файлы с расширениями .bak, .tmp, .backup
find "$dir_path" -type f \( -name "*.bak" -o -name "*.tmp" -o -name "*.backup" \) -exec rm -f {} \;

echo "Файлы с расширениями .bak, .tmp, .backup были успешно удалены из директории $dir_path."
```

```sh
sudo chmod +x clean_directory.sh

./clean_directory.sh /path/to/directory

Ошибка: директория /path/to/directory не существует.
```

Чтобы использовать этот скрипт:

- Сохраняем его в файл, например, ```clean_directory.sh```.  
- Сделаем файл исполняемым с помощью команды ```chmod +x clean_directory.sh```  
- Запускаем скрипт, передав путь к директории в качестве аргумента, например: ```./clean_directory.sh /path/to/directory```.  
- Этот скрипт использует команду find для поиска файлов с указанными расширениями внутри директории и удаляет их с помощью ```rm -f```. 

---

## Задание-2

> Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, названные по имени владельца каждого файла.  
> Учтите, что файл должен принадлежать соответствующему владельцу.

```sh
sudo nano ownersort.sh
```

```sh
#!/bin/bash

# Проверяем, передан ли аргумент
if [ $# -ne  1 ]; then
    echo "Ошибка: необходимо указать путь к директории."
    exit  1
fi
# Путь к директории
src_dir="$1"
# Проверяем, существует ли директория
if [ ! -d "$src_dir" ]; then
    echo "Ошибка: директория $src_dir не существует."
    exit  1
fi
# Проходим по всем файлам в директории
for file in "$src_dir"/*; do
    # Проверяем, является ли элемент файлом
    if [ -f "$file" ]; then
        # Получаем имя владельца файла
        owner=$(stat -c %U -- "$file")
        # Создаем поддиректорию, если она еще не существует
        mkdir -p "$src_dir/$owner"    
        # Копируем файл в поддиректорию, сохраняя права доступа
        cp -p "$file" "$src_dir/$owner/"      
        # Проверяем, был ли файл успешно скопирован
        if [ $? -eq  0 ]; then
            echo "Файл $file успешно скопирован в директорию $src_dir/$owner."
        else
            echo "Ошибка при копировании файла $file."
        fi
    fi
done
```

```sh
sudo chmod +x ownersort.sh
./ownersort.sh source
Файл source/file1.f успешно скопирован в директорию source/alex.
Файл source/file2.f успешно скопирован в директорию source/alex.
Файл source/file3.f успешно скопирован в директорию source/alex.
```

Чтобы использовать этот скрипт:

- Сохраняем его в файл, например, ```ownersort.sh```.  
- Сделаем файл исполняемым с помощью команды ```chmod +x ownersort.sh```.  
- Запускаем скрипт, указав путь к директории в качестве аргумента, например: ```./ownersort.sh```.  

Этот скрипт проверяет каждый файл в указанной директории, определяет его владельца и копирует файл в поддиректорию, названную в честь владельца.  
Если поддиректория не существует, скрипт создает её.  
Команда ```cp -p``` используется для копирования файлов с сохранением их прав доступа, что гарантирует, что файл будет принадлежать соответствующему владельцу после копирования.